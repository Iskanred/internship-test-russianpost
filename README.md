# internship-test-russianpost

Тестовое задание для стажировки в Почтатех.


## Запуск

1. Перед запуском небходимо создать в системе следующие сущности для PostgreSQL:

   * Пользователь: 
     * username=```admin```
     * password=```admin```
     * rights: Create DB

   * База данных:
     * dbname=```internship-test-russianpost```
     * owner=```admin```

2. Далее необходимо, чтобы база данных была доступна для подключения по адресу:

    postgresql://localhost:5432/internship-test-russianpost 

3. После этого можно запускать сервер следующей командой:

    java -jar server.jar

4. По окончании описанных действий сервер будет доступен для подключения по адресу:
    
    https://localhost:8080/

## Документация

**Swagger** документация находится корневой директории репозитория:
* [Документация](./docs.yaml)

Код задокументирован при помощи **Javadoc**.

## Использование

### Сервер предоставляет три сервиса:

1. Мониторинг подключения сервера
2. Запрос GitHub репозиториев по заданным критерию и теме поиска
3. Сервис по работе с адресами (сохрание, получение, обновление, удаление)

### Мониторинг подключения сервера

Запросив страницу по адресу ```https://localhost:8080/monitoring/ping```, можно получить ```HTTP``` ответ:
* Код 200 - если сервер запущен в данный момент

Подробности в [документации](./docs.yaml). 

### Запрос GitHub репозиториев по заданным критерию и теме поиска

Запросив страницу по адресу ```https://localhost:8080/v1.0/github/repositories```, можно получить ```JSON```файл, содержащий список репозиториев, выбранных по определенной теме и по заданному критерию.

* Параметры выборки:
  * Критерий:
    * ```popular``` - подборка самых популярных репозиториев
  * Тема поиска (*java*, *devops*, *pochta*)
  * Количество - размер выборки в диапазоне от 1 до 100

Подробности в [документации](./docs.yaml).

### Сервис по работе с адресами (сохрание, получение, обновление, удаление)

* Адрес содержит следующие данные:
  * id: uuid - Идентификатор адреса
  * plain_address: string - Название адреса
  * instruction: string - Инструкция, как добраться
  * index: string(max size = 9) - Почтовый индекс
  * region: string(max size = 200) - Регион
  * area: string(max size = 200) - Местность
  * place: string(max size = 200) - Населенный пункт
  * district: string(max size = 200) - Округ
  * street: string(max size = 200) - Улица
  * house: string(max size = 60) - Дом
  * letter: string(max size = 2) - Буква
  * slash: string(max size = 8) - Дробь
  * corpus: string(max size = 8) - Корпус
  * building: string(max size = 8) - Строение
  * room: string(max size = 60) - Помещение

* Существующие запросы:
  * ```POST``` ```https://localhost:8080/v1.0/addresses/``` - создание адреса по параметрам из тела запроса.
  * ```GET``` ```https://localhost:8080/v1.0/addresses?page={}&pageSize={}/``` - получение списка адресов с разбивкой по страницам. 
  * ```GET``` ```https://localhost:8080/v1.0/addresses{id}``` - получение адреса по id. 
  * ```PUT``` ```https://localhost:8080/v1.0/addresses{id}``` - обновление адреса по id.
  * ```DELETE``` ```https://localhost:8080/v1.0/addresses{id}``` - удаление адреса по id.

### 

Подробности в [документации](./docs.yaml).

## Процесс разработки

### Результат
Приложение разработано, протестировано с помощью юнит-тестов, задокументировано, собрано и готово
 к использованию с предварительной настройкой окружения. Исходные коды доступны в директории
 [src](./src). Приложение может быть собрано самостоятельно с помощью
 ```Maven```.

### Архитектура
Основными архитектурными решениями выступают MVC и Dependency Injection,
 предоставляемые фреймворком ```Spring```. Исходные коды для каждого из сервисов размещены
 в собственных пакетах.

### Используемые технологии

```Java 11```, ```Maven```, ```Spring Boot```, ```Spring Web MVC```, ```Spring Data JPA```, ```Spring Security```, ```PostgreSQL```
